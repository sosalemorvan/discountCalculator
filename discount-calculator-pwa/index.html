<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#28a745">
    <title>Calculadora de Descuentos</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icon-192x192.png">
    <link rel="apple-touch-icon" href="icon-192x192.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Calculadora de Descuentos</h1>
        
        <!-- Tab System -->
        <div class="tabs">
            <button class="tab-button" onclick="switchTab('discount')">Calculadora de Descuentos</button>
            <button class="tab-button active" onclick="switchTab('reverse')">Calculadora Inversa</button>
        </div>
        
        <!-- Discount Calculator Tab -->
        <div id="discount" class="tab-content">
            <div class="input-group">
                <label for="originalPrice">Precio Original:</label>
                <input type="number" id="originalPrice" placeholder="Ingrese el precio original" inputmode="decimal" step="0.01">
            </div>
            
            <div class="input-group">
                <label for="paymentType">Tipo de Pago:</label>
                <select id="paymentType">
                    <option value="" disabled selected>Seleccione el tipo de pago</option>
                    <option value="bolivares">Bolívares</option>
                    <option value="efectivo_dolares">Efectivo Dólares</option>
                    <option value="zelle">Zelle</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="deliveryDate">Fecha de Entrega:</label>
                <input type="text" id="deliveryDate" placeholder="dd/mm/aaaa">
            </div>
            
            <div class="input-group">
                <label for="paymentDate">Fecha de Pago:</label>
                <input type="text" id="paymentDate" placeholder="dd/mm/aaaa">
            </div>
            
            <button onclick="calculateDiscount()">Calcular</button>
            <div id="result"></div>
        </div>
        
        <!-- Reverse Calculator Tab -->
        <div id="reverse" class="tab-content active">
            <div class="input-group">
                <label for="paymentAmount">Monto del Pago:</label>
                <input type="number" id="paymentAmount" placeholder="Ingrese el monto del pago" inputmode="decimal" step="0.01">
            </div>
            
            <div class="input-group">
                <label for="reversePaymentType">Tipo de Pago:</label>
                <select id="reversePaymentType">
                    <option value="" disabled selected>Seleccione el tipo de pago</option>
                    <option value="bolivares">Bolívares</option>
                    <option value="efectivo_dolares">Efectivo Dólares</option>
                    <option value="zelle">Zelle</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="reverseDeliveryDate">Fecha de Entrega:</label>
                <input type="text" id="reverseDeliveryDate" placeholder="dd/mm/aaaa">
            </div>
            
            <div class="input-group">
                <label for="reversePaymentDate">Fecha de Pago:</label>
                <input type="text" id="reversePaymentDate" placeholder="dd/mm/aaaa">
            </div>
            
            <button onclick="calculateReverse()">Calcular</button>
            <div id="reverseResult"></div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js')
                .then((registration) => {
                    console.log('Service Worker registered with scope:', registration.scope);
                })
                .catch((error) => {
                    console.log('Service Worker registration failed:', error);
                });
        }
    </script>
</body>
</html>